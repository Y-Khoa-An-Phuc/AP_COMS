<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Chào mừng - Thiết lập Mật khẩu</title>
    <style>
        /* Reset styles */
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif;
            background-color: #f4f4f4;
            line-height: 1.6;
        }

        /* Container */
        .email-container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            padding: 0;
        }

        /* Header */
        .email-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            padding: 40px 30px;
            text-align: center;
        }

        .email-header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 600;
        }

        .email-header .company-name {
            margin: 10px 0 0 0;
            font-size: 14px;
            opacity: 0.9;
        }

        /* Body */
        .email-body {
            padding: 40px 30px;
            color: #333333;
        }

        .email-body h2 {
            color: #667eea;
            font-size: 22px;
            margin-top: 0;
            margin-bottom: 20px;
        }

        .email-body p {
            margin: 15px 0;
            color: #555555;
            font-size: 16px;
        }

        /* Button */
        .button-container {
            text-align: center;
            margin: 30px 0;
        }

        .btn {
            display: inline-block;
            padding: 14px 32px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff !important;
            text-decoration: none;
            border-radius: 5px;
            font-weight: 600;
            font-size: 16px;
            box-shadow: 0 4px 6px rgba(102, 126, 234, 0.25);
        }

        /* Info box */
        .info-box {
            background-color: #f8f9ff;
            border-left: 4px solid #667eea;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .info-box p {
            margin: 5px 0;
            font-size: 14px;
            color: #555555;
        }

        /* Warning box */
        .warning-box {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .warning-box p {
            margin: 5px 0;
            font-size: 14px;
            color: #856404;
        }

        /* Footer */
        .email-footer {
            background-color: #f8f9fa;
            padding: 30px;
            text-align: center;
            border-top: 1px solid #e9ecef;
        }

        .email-footer p {
            margin: 10px 0;
            color: #6c757d;
            font-size: 14px;
        }

        .email-footer a {
            color: #667eea;
            text-decoration: none;
        }

        /* Responsive */
        @media only screen and (max-width: 600px) {
            .email-header {
                padding: 30px 20px;
            }

            .email-body {
                padding: 30px 20px;
            }

            .email-header h1 {
                font-size: 24px;
            }

            .btn {
                padding: 12px 24px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div class="email-container">
        <!-- Header -->
        <div class="email-header">
            <h1 th:text="${emailTitle}">Welcome - Set Up Your Password</h1>
            <p class="company-name" th:text="${companyName}">Company Name</p>
        </div>

        <!-- Body Content -->
        <div class="email-body">
            <h2>Chào mừng đến với Hệ thống Quản lý Hợp đồng An Phúc!</h2>

            <p>Xin chào <strong th:text="${username}">User</strong>,</p>

            <p>
                Tài khoản của bạn đã được tạo thành công bởi quản trị viên.
                Để bắt đầu, bạn cần thiết lập mật khẩu của mình.
            </p>

            <div class="button-container">
                <a th:href="${firstLoginLink}" class="btn">Thiết Lập Mật Khẩu</a>
            </div>

            <div class="info-box">
                <p><strong>Thông tin tài khoản:</strong></p>
                <p>Tên đăng nhập: <strong th:text="${username}">username</strong></p>
                <p>Email: <strong th:text="${email}">email@example.com</strong></p>
            </div>

            <p>
                Vì lý do bảo mật, liên kết này chỉ có thể được sử dụng một lần. Sau khi thiết lập mật khẩu,
                bạn sẽ được tự động đăng nhập và có thể bắt đầu sử dụng hệ thống.
            </p>

            <div class="warning-box">
                <p><strong>Lưu ý bảo mật:</strong></p>
                <p>
                    Nếu bạn không yêu cầu tài khoản này hoặc tin rằng email này được gửi nhầm,
                    vui lòng liên hệ với quản trị viên hệ thống ngay lập tức.
                </p>
            </div>

            <p style="margin-top: 30px;">
                Trân trọng,<br/>
                <strong>Đội ngũ IT An Phúc</strong>
            </p>
        </div>

        <!-- Footer -->
        <div class="email-footer">
            <p><strong th:text="${companyName}">An Phuc Contract Management</strong></p>
            <p>
                Cần hỗ trợ? Liên hệ với chúng tôi tại
                <a th:href="'mailto:' + ${supportEmail}" th:text="${supportEmail}">support@anphuc.com</a>
            </p>
            <p style="color: #999999; font-size: 12px; margin-top: 20px;">
                Đây là tin nhắn tự động. Vui lòng không trả lời email này.
            </p>
        </div>
    </div>
</body>
</html>
